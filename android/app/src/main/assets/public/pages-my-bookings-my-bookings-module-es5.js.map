{"version":3,"sources":["webpack:///src/app/pages/my-bookings/my-bookings.page.html","webpack:///src/app/pages/my-bookings/my-bookings-routing.module.ts","webpack:///src/app/pages/my-bookings/my-bookings.module.ts","webpack:///src/app/pages/my-bookings/my-bookings.page.scss","webpack:///src/app/pages/my-bookings/my-bookings.page.ts"],"names":["routes","path","component","MyBookingsPageRoutingModule","imports","forChild","exports","MyBookingsPageModule","declarations","Storage","MyBookingsPage","webService","router","show","reservDetails","filterData","presentLoading","get","key","token","value","JSON","userId","parse","id","lang","getClientReservation","subscribe","res","console","log","detail","alert","navigateByUrl","length","stopLoading","i","date_debut","split","getCarDetails","voiture","car","photo_car","photo","modele","libelle","getSingleDestination","destination","dest","date_location","date_fin","selector","template"],"mappings":"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","file":"pages-my-bookings-my-bookings-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n\\r\\n       <ion-item>\\r\\n        <ion-buttons slot=\\\"start\\\"  *ngIf=\\\"reservDetails==null\\\">\\r\\n          <ion-menu-button></ion-menu-button>\\r\\n        </ion-buttons>\\r\\n\\r\\n      <!-- prev icon -->\\r\\n           <ion-icon color=\\\"light\\\" name=\\\"chevron-back\\\" (click)=\\\"prev()\\\" *ngIf=\\\"reservDetails!=null\\\" ></ion-icon>\\r\\n        <ion-title> {{\\\"DASHBOARD.my_bookings\\\" | translate}} </ion-title>\\r\\n    </ion-item> \\r\\n\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content *ngIf=\\\"show\\\">\\r\\n\\r\\n    <!-- --------------------- if  reservDetails== null----------------------------------------------------------------- -->\\r\\n       \\r\\n     <div *ngIf=\\\"reservDetails==null\\\">\\r\\n        <!-- Start reservation -->\\r\\n       <ion-card *ngFor=\\\"let item of filterData ; index as i\\\" >\\r\\n          \\r\\n          \\r\\n        <img [src]=\\\"item?.photo_car[0]?.image\\\" />\\r\\n\\r\\n            <ion-card-header>\\r\\n                    <ion-card-title >{{item.modele}}</ion-card-title>\\r\\n\\r\\n              <ion-card-subtitle>\\r\\n\\r\\n                  \\r\\n               <!-- Status -->\\r\\n                <ion-item>\\r\\n                    <ion-label > Status : </ion-label>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 1 && lang=='fr'\\\" style=\\\"color:orange\\\"> En cours de traitement </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 1 && lang=='en'\\\" style=\\\"color:orange\\\"> Being processed </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 2 && lang=='fr'\\\" style=\\\"color:purple\\\"> Confirmée </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 2 && lang=='en'\\\" style=\\\"color:purple\\\"> Confirmed </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 3 && lang=='fr'\\\" style=\\\"color:red\\\"> Rejetée pour défaut paiement</ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 3 && lang=='en'\\\" style=\\\"color:red\\\"> Rejected for default of payment </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 4 && lang=='fr'\\\" style=\\\"color:blue\\\"> Réservation Débutée </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 4 && lang=='en'\\\" style=\\\"color:blue\\\"> Reservation started </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 5 && lang=='fr'\\\" style=\\\"color:green\\\"> Réservation terminée </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 5 && lang=='en'\\\" style=\\\"color:green\\\">Reservation completed </ion-chip>\\r\\n                   \\r\\n                </ion-item>\\r\\n                <!-- Starting date -->\\r\\n                <ion-item>\\r\\n                    <ion-label > Start Date : </ion-label>\\r\\n                    <ion-chip slot=\\\"end\\\"> {{item.date_debut}} </ion-chip>\\r\\n                </ion-item>\\r\\n                  <!-- Destination -->\\r\\n            \\r\\n               <ion-item>\\r\\n                    <ion-label > Destination : </ion-label>\\r\\n                    <ion-chip slot=\\\"end\\\"> {{item.destination}} </ion-chip>\\r\\n                </ion-item>\\r\\n\\r\\n                \\r\\n\\r\\n              </ion-card-subtitle>\\r\\n            </ion-card-header>\\r\\n\\r\\n\\r\\n            <ion-card-content>\\r\\n                                        \\r\\n                   <!-- button View details-->\\r\\n                  <ion-button  style=\\\"margin-left:30%\\\" (click) = \\\"viewDetails(i)\\\" >\\r\\n                      <ion-label >View details</ion-label>\\r\\n                  </ion-button>\\r\\n          \\r\\n          \\r\\n            </ion-card-content>\\r\\n      </ion-card>\\r\\n        <!-- Stop Reservation -->\\r\\n      </div>  \\r\\n    <!-- -------------------------------------------------------------------------------------- -->\\r\\n    <!-- -------------------------------------------------------------------------------------- -->\\r\\n    <!-- -------------------------------------------------------------------------------------- -->\\r\\n    <!-- -------------------------------------------------------------------------------------- -->\\r\\n\\r\\n    <!-- --------------------- if  reservDetails!= null----------------------------------------------------------------- -->\\r\\n       \\r\\n     <div *ngIf=\\\"reservDetails!=null\\\">\\r\\n        <!-- Start reservation -->\\r\\n       <ion-card *ngIf=\\\"reservDetails \\\" >\\r\\n          \\r\\n          \\r\\n        <img [src]=\\\"reservDetails?.photo_car[0]?.image\\\" />\\r\\n\\r\\n            <ion-card-header>\\r\\n                    <ion-card-title >{{reservDetails.modele}}</ion-card-title>\\r\\n\\r\\n              <ion-card-subtitle>\\r\\n\\r\\n                  \\r\\n               <!-- Status -->\\r\\n                <ion-item>\\r\\n                    <ion-label > Status : </ion-label>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 1 && lang=='fr'\\\" style=\\\"color:orange\\\"> En cours de traitement </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 1 && lang=='en'\\\" style=\\\"color:orange\\\"> Being processed </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 2 && lang=='fr'\\\" style=\\\"color:purple\\\"> Confirmée </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 2 && lang=='en'\\\" style=\\\"color:purple\\\"> Confirmed </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 3 && lang=='fr'\\\" style=\\\"color:red\\\"> Rejetée pour défaut paiement</ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 3 && lang=='en'\\\" style=\\\"color:red\\\"> Rejected for default of payment </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 4 && lang=='fr'\\\" style=\\\"color:blue\\\"> Réservation Débutée </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 4 && lang=='en'\\\" style=\\\"color:blue\\\"> Reservation started </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 5 && lang=='fr'\\\" style=\\\"color:green\\\"> Réservation terminée </ion-chip>\\r\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 5 && lang=='en'\\\" style=\\\"color:green\\\">Reservation completed </ion-chip>\\r\\n                   \\r\\n                </ion-item>\\r\\n               \\r\\n                <!-- Location date -->\\r\\n                <ion-item>\\r\\n                    <ion-label > Booking Date : </ion-label>\\r\\n                    <ion-chip slot=\\\"end\\\"> {{reservDetails.date_location}} </ion-chip>\\r\\n                </ion-item>\\r\\n                <!-- Starting date -->\\r\\n                <ion-item>\\r\\n                    <ion-label > Start Date : </ion-label>\\r\\n                    <ion-chip slot=\\\"end\\\"> {{reservDetails.date_debut}} </ion-chip>\\r\\n                </ion-item>\\r\\n                <!-- Return date -->\\r\\n                <ion-item>\\r\\n                    <ion-label > Return Date : </ion-label>\\r\\n                    <ion-chip slot=\\\"end\\\"> {{reservDetails.date_fin}} </ion-chip>\\r\\n                </ion-item>\\r\\n                  <!-- Destination -->\\r\\n            \\r\\n               <ion-item>\\r\\n                    <ion-label > Destination : </ion-label>\\r\\n                    <ion-chip slot=\\\"end\\\"> {{reservDetails.destination}} </ion-chip>\\r\\n                </ion-item>\\r\\n                  <!-- Price -->\\r\\n            \\r\\n               <ion-item>\\r\\n                    <ion-label > Montant : </ion-label>\\r\\n                    <ion-chip slot=\\\"end\\\"> {{reservDetails.montant}} F CFA </ion-chip>\\r\\n                </ion-item>\\r\\n                  <!-- your comment/ message -->\\r\\n            \\r\\n               <ion-item>\\r\\n                    <ion-label > Your Message : </ion-label>\\r\\n                </ion-item> \\r\\n    \\r\\n                <ion-label style=\\\"color:white;margin-right:10%; margin-left:7%; text-align:justify;\\\">\\r\\n                   {{reservDetails.commentaire_client}}  \\r\\n                </ion-label>\\r\\n\\r\\n                \\r\\n\\r\\n              </ion-card-subtitle>\\r\\n            </ion-card-header>\\r\\n\\r\\n\\r\\n            <ion-card-content>\\r\\n                                        \\r\\n                  \\r\\n            </ion-card-content>\\r\\n      </ion-card>\\r\\n        <!-- Stop Reservation -->\\r\\n      </div>  \\r\\n    <!-- -------------------------------------------------------------------------------------- -->\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MyBookingsPage } from './my-bookings.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MyBookingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MyBookingsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MyBookingsPageRoutingModule } from './my-bookings-routing.module';\r\n\r\nimport { MyBookingsPage } from './my-bookings.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MyBookingsPageRoutingModule,\r\n    TranslateModule\r\n  ],\r\n  declarations: [MyBookingsPage]\r\n})\r\nexport class MyBookingsPageModule {}\r\n","export default \"ion-card, ion-toolbar, ion-segment {\\n  --background: black;\\n}\\n\\nion-item {\\n  --background: black;\\n  color: #ffa60a;\\n}\\n\\nion-button {\\n  color: black;\\n  --background: #ffa60a;\\n}\\n\\nion-chip {\\n  color: black;\\n  --background: white;\\n  border-color: black;\\n}\\n\\nion-segment-button {\\n  color: #ffa60a;\\n}\\n\\nion-card-title {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvbXktYm9va2luZ3MvRDpcXGlvbmljNFxcbG9naW5DYXAvc3JjXFxhcHBcXHBhZ2VzXFxteS1ib29raW5nc1xcbXktYm9va2luZ3MucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9teS1ib29raW5ncy9teS1ib29raW5ncy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxtQkFBQTtBQ0FKOztBREtBO0VBRUksbUJBQUE7RUFDQSxjQUFBO0FDSEo7O0FETUE7RUFFRSxZQUFBO0VBQ0EscUJBQUE7QUNKRjs7QURRQTtFQUVJLFlBQUE7RUFDQSxtQkFBQTtFQUNBLG1CQUFBO0FDTko7O0FEU0E7RUFFSSxjQUFBO0FDUEo7O0FEVUE7RUFFSSxZQUFBO0FDUkoiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9teS1ib29raW5ncy9teS1ib29raW5ncy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZCxpb24tdG9vbGJhcixpb24tc2VnbWVudFxyXG57XHJcbiAgICAtLWJhY2tncm91bmQ6IGJsYWNrOyBcclxufVxyXG5cclxuXHJcblxyXG5pb24taXRlbVxyXG57XHJcbiAgICAtLWJhY2tncm91bmQ6IGJsYWNrOyBcclxuICAgIGNvbG9yOiAgI2ZmYTYwYTtcclxufVxyXG5cclxuaW9uLWJ1dHRvblxyXG57XHJcbiAgY29sb3I6IGJsYWNrOyBcclxuICAtLWJhY2tncm91bmQ6ICAjZmZhNjBhO1xyXG5cclxufVxyXG5cclxuaW9uLWNoaXBcclxue1xyXG4gICAgY29sb3I6IGJsYWNrOyBcclxuICAgIC0tYmFja2dyb3VuZDogd2hpdGU7XHJcbiAgICBib3JkZXItY29sb3I6IGJsYWNrO1xyXG59XHJcblxyXG5pb24tc2VnbWVudC1idXR0b25cclxue1xyXG4gICAgY29sb3IgOiAjZmZhNjBhO1xyXG59XHJcblxyXG5pb24tY2FyZC10aXRsZVxyXG57XHJcbiAgICBjb2xvciA6IHdoaXRlO1xyXG59IiwiaW9uLWNhcmQsIGlvbi10b29sYmFyLCBpb24tc2VnbWVudCB7XG4gIC0tYmFja2dyb3VuZDogYmxhY2s7XG59XG5cbmlvbi1pdGVtIHtcbiAgLS1iYWNrZ3JvdW5kOiBibGFjaztcbiAgY29sb3I6ICNmZmE2MGE7XG59XG5cbmlvbi1idXR0b24ge1xuICBjb2xvcjogYmxhY2s7XG4gIC0tYmFja2dyb3VuZDogI2ZmYTYwYTtcbn1cblxuaW9uLWNoaXAge1xuICBjb2xvcjogYmxhY2s7XG4gIC0tYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlci1jb2xvcjogYmxhY2s7XG59XG5cbmlvbi1zZWdtZW50LWJ1dHRvbiB7XG4gIGNvbG9yOiAjZmZhNjBhO1xufVxuXG5pb24tY2FyZC10aXRsZSB7XG4gIGNvbG9yOiB3aGl0ZTtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { AppServiceService } from 'src/app/service/appService/app-service.service';\r\n\r\nimport { Plugins } from '@capacitor/core';\r\nimport { Router } from '@angular/router';\r\n\r\n\r\nconst { Storage } = Plugins;\r\n\r\n@Component({\r\n  selector: 'app-my-bookings',\r\n  templateUrl: './my-bookings.page.html',\r\n  styleUrls: ['./my-bookings.page.scss'],\r\n})\r\nexport class MyBookingsPage implements OnInit {\r\n\r\n  show = false;\r\n\r\n  reservDetails : any = null;\r\n\r\n  filterData = [\r\n    {\r\n      \"id\": 0,\r\n      \"date_location\": \"\",\r\n      \"date_debut\": \"\",\r\n      \"date_fin\": \"\",\r\n      \"montant\": 0,\r\n      \"note_client\": 0,\r\n      \"commentaire_client\": null,\r\n      \"note_chauffeur\": 0,\r\n      \"rapport_chauffeur\": \"\",\r\n      \"client\": 0,\r\n      \"chauffeur\": 0,\r\n      \"voiture\": 0,\r\n      \"type_location\": 0,\r\n      \"destination\": \"\",\r\n      \"etape_location\": 0,\r\n      \"optionnel\": [],\r\n      \"photo_car\":[{\"image\":\"\"}],\r\n      \"modele\":\"\"    \r\n    }\r\n  \r\n  ]\r\n  token: any;\r\n  userId: any;\r\n  lang: any;\r\n\r\n\r\n  constructor(public webService : AppServiceService, private router : Router) { }\r\n\r\n  async ngOnInit() {\r\n        //start laoder\r\n        this.webService.presentLoading();\r\n        //get token\r\n        this.token =(await Storage.get({ key: 'accessToken' })).value;\r\n\r\n        //get user id\r\n        this.userId =JSON.parse( (await Storage.get({ key: \"user_infos\" })).value).id;\r\n        //get Language\r\n         this.lang = (await Storage.get({ key: 'SELECTED LANGUAGE' })).value;\r\n\r\n\r\n        //get Booking list\r\n\r\n          this.webService.getClientReservation(this.userId,this.token).subscribe(res =>{\r\n\r\n            console.log(res);\r\n\r\n            if(res.detail) // that means the is error or no value exist for this user\r\n            {\r\n              if(this.lang==\"fr\")\r\n              {\r\n                alert(\"Aucune Reservation \\n Retour à la page accueil\");\r\n\r\n              }else{\r\n                alert(\"No Booking \\n Back Home Page\")\r\n              }\r\n\r\n              this.router.navigateByUrl(\"/dashboard\");\r\n\r\n              \r\n            }else{\r\n                 //check if the booking list is empty or not\r\n                 if(res.length == 0) \r\n                 {\r\n\r\n                      if(this.lang == \"fr\")\r\n                      {\r\n                         alert(\"Votre Liste de Reservation est vide !! \")\r\n                      }\r\n                      else\r\n                      {\r\n                        alert(\" Your Booking List is Empty !!\");\r\n                      }\r\n                       \r\n                       //stop loader\r\n                       this.show = true\r\n                       this.webService.stopLoading();\r\n\r\n                       this.router.navigateByUrl(\"/dashboard\");\r\n                 }\r\n                 else\r\n                 {\r\n                    for(let i=0 ; i <res.length ; i++)\r\n                    {\r\n                        //receive the res\r\n                      this.filterData[i] = res[i];\r\n                      this.filterData[i].date_debut = res[i].date_debut.split(\"T\")[0];\r\n    \r\n                      //call the car according to the id \r\n                      this.webService.getCarDetails(res[i].voiture).subscribe(car =>{\r\n    \r\n                        console.log(car)\r\n                            //pictures of car\r\n                            this.filterData[i].photo_car = car.photo;\r\n                            //modele\r\n                            this.filterData[i].modele = car.modele.libelle;\r\n    \r\n    \r\n                            //get destination\r\n                            this.webService.getSingleDestination(res[i].destination).subscribe(dest =>{\r\n    \r\n                                console.log(dest);\r\n    \r\n                              this.filterData[i].destination = dest.destination;\r\n                            });\r\n                            //end get destination\r\n    \r\n    \r\n                            //stop loader\r\n                            this.show = true\r\n                            this.webService.stopLoading();\r\n    \r\n    \r\n                      });\r\n                      //end get car infos\r\n    \r\n    \r\n    \r\n                    }//end for loop\r\n  \r\n                 }\r\n                  \r\n\r\n            }\r\n\r\n\r\n            \r\n          });\r\n          ///end get booking list\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n  //////////////////////////////////////////////////////////////////////////////////////\r\n  /////////////////////////////prev////////////////////////////////////////////////////\r\n\r\n  prev()\r\n  {\r\n    this.reservDetails = null;\r\n  }\r\n  ////////////////////////////////////////////////////////////////////////////////////\r\n  ////////////////////////////////view details////////////////////////////////////////\r\n  viewDetails(i)\r\n  {\r\n    this.reservDetails = this.filterData[i];\r\n    this.reservDetails.date_location = this.filterData[i].date_location.split(\"T\")[0];\r\n    this.reservDetails.date_debut = this.filterData[i].date_debut.split(\".\")[0];\r\n    this.reservDetails.date_fin = this.filterData[i].date_fin.split(\".\")[0];\r\n\r\n    console.log(this.reservDetails)\r\n  }\r\n\r\n\r\n\r\n}\r\n"]}