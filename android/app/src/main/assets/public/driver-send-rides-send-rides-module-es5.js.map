{"version":3,"sources":["webpack:///src/app/driver/send-rides/send-rides.page.html","webpack:///src/app/driver/send-rides/send-rides-routing.module.ts","webpack:///src/app/driver/send-rides/send-rides.module.ts","webpack:///src/app/driver/send-rides/send-rides.page.scss","webpack:///src/app/driver/send-rides/send-rides.page.ts"],"names":["routes","path","component","SendRidesPageRoutingModule","imports","forChild","exports","SendRidesPageModule","declarations","Storage","SendRidesPage","route","router","webService","logo1","dataToSend","dataSaveReturn","isSearchbarOpened","term","filterData","rent_type","list_original","list_to_show","selected_index","show_list","show","nbr","get","key","token","value","JSON","userId","parse","id","lang","presentLoading","getDriverRide","subscribe","res","detail","i","length","etape_location","getCarDetails","voiture","car","photo","modele","libelle","heure_debut","date_debut","split","heure_fin","date_fin","date_location","destination_id","destination","depart_id","depart","getClient","client","resp","clientname","first_name","last_name","getSingleDestination","dest","dep","stopLoading","alert","error","navigate","queryParams","prev","selector","template"],"mappings":"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","file":"driver-send-rides-send-rides-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n\\r\\n    <ion-item *ngIf=\\\"!isSearchbarOpened\\\">\\r\\n\\r\\n           <!-- menu icon -->\\r\\n      <ion-buttons *ngIf=\\\"!isSearchbarOpened\\\" slot=\\\"start\\\">\\r\\n        <ion-menu-button></ion-menu-button>\\r\\n      </ion-buttons>\\r\\n\\r\\n      <!-- title -->\\r\\n      <ion-title *ngIf=\\\"!isSearchbarOpened\\\" >{{ 'DASHBOARD.my_rides' | translate }}</ion-title>\\r\\n\\r\\n   \\r\\n       <!-- search bar button -->\\r\\n       <ion-buttons slot=\\\"end\\\">\\r\\n          <ion-button icon-only *ngIf=\\\"!isSearchbarOpened\\\" (click)=\\\"isSearchbarOpened=true\\\" >\\r\\n              <ion-icon color=\\\"primary\\\" name=\\\"search\\\"> </ion-icon>\\r\\n          </ion-button>\\r\\n      </ion-buttons>\\r\\n\\r\\n\\r\\n    </ion-item>\\r\\n\\r\\n<!-- Search Bar -->\\r\\n   <ion-searchbar *ngIf=\\\"isSearchbarOpened\\\" placeholder=\\\"{{ 'DASHBOARD.search_here' | translate }}\\\" [(ngModel)]=\\\"term\\\" animated=\\\"true\\\" showCancelButton=\\\"true\\\" (ionCancel)=\\\"isSearchbarOpened=false\\\"></ion-searchbar>\\r\\n\\r\\n     \\r\\n  </ion-toolbar>\\r\\n    \\r\\n</ion-header>\\r\\n\\r\\n<ion-content *ngIf=\\\"show\\\" >\\r\\n\\r\\n\\r\\n    \\r\\n<!-- Default Segment / Search for the car according to the type of reservation -->\\r\\n <!--   First main Search  -->\\r\\n\\r\\n    <ion-card  *ngIf=\\\"nbr==0\\\"> \\r\\n          \\r\\n        <label textWrap=\\\"true\\\" style=\\\"margin-bottom: 20%; margin-top: 20%;margin-left: 40%;color:white;\\\">  \\r\\n            {{\\\"DASHBOARD.empty_list\\\" | translate}}\\r\\n        \\r\\n         </label> \\r\\n    \\r\\n     </ion-card>\\r\\n\\r\\n     \\r\\n     \\r\\n\\r\\n     <ion-card *ngFor=\\\"let item of filterData | filter:term ; index as i\\\">\\r\\n       <div  *ngIf=\\\"item.etape_location == 5\\\">\\r\\n        <!-- <img [src]=\\\"item?.photo[0]?.image\\\" /> -->\\r\\n        <ion-card-header>\\r\\n                 <!-- <ion-card-title >{{item.modele}}</ion-card-title> -->\\r\\n\\r\\n          <ion-card-subtitle>\\r\\n\\r\\n             \\r\\n              <!-- Car title -->\\r\\n                <ion-item>\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"width: 150px\\\"> {{ \\\"RESERVECAR.car\\\" | translate }} </label>\\r\\n                   <label textWrap=\\\"true\\\" style=\\\"margin-left: 5%;color:white;width: 150px\\\"  > {{item.modele}}  </label>\\r\\n     \\r\\n                    <!-- <ion-chip slot=\\\"end\\\"> Per Hour </ion-chip> -->\\r\\n                </ion-item>\\r\\n              <!-- Reservation Type -->\\r\\n                <ion-item>\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"width: 120px\\\"> {{ \\\"RESERVECAR.booking_type\\\" | translate }} </label>\\r\\n                   <label textWrap=\\\"true\\\" style=\\\"margin-left: 15%;color:white;width: 150px\\\"  *ngIf=\\\"item.type_location == 3\\\"> {{ \\\"RESERVECAR.airport_pick\\\" | translate }}  </label>\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"margin-left: 15%;color:white;width: 150px\\\" *ngIf=\\\"item.type_location == 2\\\"> {{ \\\"RESERVECAR.per_hour\\\" | translate }}  </label>\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"margin-left: 15%;color:white;width: 150px\\\" *ngIf=\\\"item.type_location == 1\\\"> {{ \\\"RESERVECAR.per_day\\\" | translate }}   </label>\\r\\n                \\r\\n                    <!-- <ion-chip slot=\\\"end\\\"> Per Hour </ion-chip> -->\\r\\n                </ion-item>\\r\\n              <!-- Depart -->\\r\\n                <ion-item  *ngIf=\\\"item.type_location == 3\\\">\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"width: 150px\\\"> {{ \\\"RESERVECAR.departure\\\" | translate }} </label>\\r\\n                   <label textWrap=\\\"true\\\" style=\\\"margin-left: 5%;color:white;width: 150px\\\" > {{ item.depart }}  </label>\\r\\n                \\r\\n                    <!-- <ion-chip slot=\\\"end\\\"> Per Hour </ion-chip> -->\\r\\n                </ion-item>\\r\\n\\r\\n\\r\\n                <!-- Destination -->\\r\\n            \\r\\n               <ion-item>\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"width: 150px\\\" > {{ \\\"RESERVECAR.booking_destination\\\" | translate }} </label>\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"margin-left: 5%;color:white;width: 150px\\\" > {{item.destination}}  </label>\\r\\n\\r\\n                    <!-- <ion-chip slot=\\\"end\\\"> Daoukro </ion-chip> -->\\r\\n                </ion-item>\\r\\n\\r\\n              \\r\\n                <!-- Starting date -->\\r\\n                <ion-item>\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"width: 150px\\\" > {{ \\\"RESERVECAR.booking_start_date\\\" | translate }} </label>\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"margin-left: 5%;color:white;width: 150px\\\"  > {{item.date_debut}} </label>\\r\\n                </ion-item>\\r\\n                \\r\\n                <!-- Starting time -->\\r\\n                <ion-item>\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"width: 150px\\\" > {{ \\\"DASHBOARD.start_time\\\" | translate }} </label>\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"margin-left: 5%;color:white;width: 150px\\\"> {{item.heure_debut}} </label>\\r\\n\\r\\n                    <!-- <ion-chip slot=\\\"end\\\"> 12 : 10 </ion-chip> -->\\r\\n                </ion-item>\\r\\n               \\r\\n\\r\\n                <!-- Client name -->\\r\\n                <ion-item>\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"width: 150px\\\"  > {{ \\\"RESERVECAR.clientname\\\" | translate }} </label>\\r\\n                    <label textWrap=\\\"true\\\" style=\\\"margin-left: 5%;color:white;width: 150px\\\" > {{item.clientname}} </label>\\r\\n                    <!-- <ion-chip slot=\\\"end\\\"> Oumarou Toto </ion-chip> -->\\r\\n                </ion-item>\\r\\n\\r\\n               \\r\\n\\r\\n          </ion-card-subtitle>\\r\\n        </ion-card-header>\\r\\n        <ion-card-content>\\r\\n                        \\r\\n             \\r\\n               <!-- button View details-->\\r\\n             <ion-button  *ngIf=\\\"item.etape_location == 5 \\\" style=\\\"margin-left:30%\\\" (click)=\\\"tripDetails(i)\\\" >\\r\\n                <ion-label *ngIf=\\\"item.etape_location == 5 \\\">{{\\\"DASHBOARD.btn_view_details\\\" | translate }}</ion-label>\\r\\n            </ion-button>\\r\\n\\r\\n      \\r\\n        </ion-card-content>\\r\\n         \\r\\n     </div>\\r\\n\\r\\n      </ion-card>\\r\\n\\r\\n    <!-- </ion-item> -->\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SendRidesPage } from './send-rides.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SendRidesPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SendRidesPageRoutingModule {}\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SendRidesPageRoutingModule } from './send-rides-routing.module';\r\n\r\nimport { SendRidesPage } from './send-rides.page';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { Ng2SearchPipeModule } from 'ng2-search-filter';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    TranslateModule,\r\n    Ng2SearchPipeModule,\r\n    SendRidesPageRoutingModule\r\n  ],\r\n  declarations: [SendRidesPage]\r\n})\r\nexport class SendRidesPageModule {}\r\n","export default \"ion-card, ion-toolbar, ion-segment {\\n  --background: black;\\n}\\n\\nion-item {\\n  --background: black;\\n  color: #ffa60a;\\n}\\n\\nion-button {\\n  color: black;\\n  --background: #ffa60a;\\n}\\n\\nion-chip {\\n  color: black;\\n  --background: #ffa60a;\\n  border-color: black;\\n}\\n\\nion-segment-button {\\n  color: #ffa60a;\\n}\\n\\nion-card-title {\\n  color: white;\\n}\\n\\nlabel {\\n  font-size: 0.89em;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvZHJpdmVyL3NlbmQtcmlkZXMvRDpcXGlvbmljYXBwXFxsb2dpbkNhcC9zcmNcXGFwcFxcZHJpdmVyXFxzZW5kLXJpZGVzXFxzZW5kLXJpZGVzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvZHJpdmVyL3NlbmQtcmlkZXMvc2VuZC1yaWRlcy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFFSSxtQkFBQTtBQ0FKOztBREtBO0VBRUksbUJBQUE7RUFDQSxjQUFBO0FDSEo7O0FETUE7RUFFRSxZQUFBO0VBQ0EscUJBQUE7QUNKRjs7QURRQTtFQUVJLFlBQUE7RUFDQSxxQkFBQTtFQUNBLG1CQUFBO0FDTko7O0FEU0E7RUFFSSxjQUFBO0FDUEo7O0FEVUE7RUFFSSxZQUFBO0FDUko7O0FEV0E7RUFFSSxpQkFBQTtBQ1RKIiwiZmlsZSI6InNyYy9hcHAvZHJpdmVyL3NlbmQtcmlkZXMvc2VuZC1yaWRlcy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY2FyZCxpb24tdG9vbGJhcixpb24tc2VnbWVudFxyXG57XHJcbiAgICAtLWJhY2tncm91bmQ6IGJsYWNrOyBcclxufVxyXG5cclxuXHJcblxyXG5pb24taXRlbVxyXG57XHJcbiAgICAtLWJhY2tncm91bmQ6IGJsYWNrOyBcclxuICAgIGNvbG9yOiAgI2ZmYTYwYTtcclxufVxyXG5cclxuaW9uLWJ1dHRvblxyXG57XHJcbiAgY29sb3I6IGJsYWNrOyBcclxuICAtLWJhY2tncm91bmQ6ICAjZmZhNjBhO1xyXG5cclxufVxyXG5cclxuaW9uLWNoaXBcclxue1xyXG4gICAgY29sb3I6IGJsYWNrOyBcclxuICAgIC0tYmFja2dyb3VuZDogI2ZmYTYwYTtcclxuICAgIGJvcmRlci1jb2xvcjogYmxhY2s7XHJcbn1cclxuXHJcbmlvbi1zZWdtZW50LWJ1dHRvblxyXG57XHJcbiAgICBjb2xvciA6ICNmZmE2MGE7XHJcbn1cclxuXHJcbmlvbi1jYXJkLXRpdGxlXHJcbntcclxuICAgIGNvbG9yIDogd2hpdGU7XHJcbn1cclxuXHJcbmxhYmVsXHJcbntcclxuICAgIGZvbnQtc2l6ZTowLjg5ZW07XHJcbn1cclxuXHJcblxyXG4iLCJpb24tY2FyZCwgaW9uLXRvb2xiYXIsIGlvbi1zZWdtZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiBibGFjaztcbn1cblxuaW9uLWl0ZW0ge1xuICAtLWJhY2tncm91bmQ6IGJsYWNrO1xuICBjb2xvcjogI2ZmYTYwYTtcbn1cblxuaW9uLWJ1dHRvbiB7XG4gIGNvbG9yOiBibGFjaztcbiAgLS1iYWNrZ3JvdW5kOiAjZmZhNjBhO1xufVxuXG5pb24tY2hpcCB7XG4gIGNvbG9yOiBibGFjaztcbiAgLS1iYWNrZ3JvdW5kOiAjZmZhNjBhO1xuICBib3JkZXItY29sb3I6IGJsYWNrO1xufVxuXG5pb24tc2VnbWVudC1idXR0b24ge1xuICBjb2xvcjogI2ZmYTYwYTtcbn1cblxuaW9uLWNhcmQtdGl0bGUge1xuICBjb2xvcjogd2hpdGU7XG59XG5cbmxhYmVsIHtcbiAgZm9udC1zaXplOiAwLjg5ZW07XG59Il19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { Plugins } from '@capacitor/core';\r\nimport { AppServiceService } from 'src/app/service/appService/app-service.service';\r\n\r\n\r\n\r\nconst { Storage } = Plugins;\r\n@Component({\r\n  selector: 'app-send-rides',\r\n  templateUrl: './send-rides.page.html',\r\n  styleUrls: ['./send-rides.page.scss'],\r\n})\r\nexport class SendRidesPage implements OnInit {\r\n\r\n //////////////Date////////////////////\r\npublic  today: any ;     // today's date \r\npublic  maxdate : any;   // the maximum date of a date picker\r\n\r\n/////////////////////////////////\r\n  data: any;\r\n\r\n\r\n  name: any;\r\n  alias: any;\r\n  datauser: any;\r\n  token : any;\r\n  lang: string;\r\n\r\n\r\n  logo1 ='../assets/images/logo1.jpg';\r\n  \r\n  public dataToSend:any=\r\n  {\r\n    \"name\":\"\",\r\n    \"alias\":\" \"\r\n  };\r\n\r\n  public dataSaveReturn: any = \"\";\r\n\r\n//////////////////////////////search barelements\r\n//////////////////////////////////////\r\n  public isSearchbarOpened = false;\r\n  term = '';\r\n  filterData = [\r\n    {\r\n      \"id\": 0,\r\n      \"date_location\": \"\",\r\n      \"date_debut\": \"\",\r\n      \"date_fin\": \"\",\r\n      \"heure_debut\": \"\",\r\n      \"heure_fin\": \"\",\r\n      \"montant\": 0,\r\n      \"note_client\": 0,\r\n      \"commentaire_client\": \"\",\r\n      \"note_chauffeur\": 0,\r\n      \"rapport_chauffeur\": \"\",\r\n      \"client\": 0,\r\n      \"clientname\": \"\",\r\n      \"chauffeur\": 0,\r\n      \"voiture\": 0,\r\n      \"type_location\": 0,\r\n      \"depart\":0,\r\n      \"depart_id\":0,\r\n      \"destination\": 0,\r\n      \"destination_id\": 0,\r\n      \"message\":\"\",\r\n      \"photo\":[{\"image\":\"\"}],\r\n      \"modele\":\"\" ,\r\n      \"etape_location\": 0,\r\n      \"optionnel\": [],\r\n         \r\n    }\r\n  \r\n  ];\r\n\r\n  ///////////////////////////////////////////////////////////////////////////////////////////////////////\r\n  ////////////////////////////// data for destination //////////////////////////////////////////////////\r\n  rent_type : any =\"hour\";\r\n  list_original = [];\r\n  list_to_show = [];\r\n  selected_index = -1;\r\n  show_list = false;\r\n  userId: any;\r\n  \r\n  show = false\r\n  nbr = 0;\r\n\r\n\r\n  constructor(private route: ActivatedRoute, private router: Router, \r\n    private webService: AppServiceService) {\r\n\r\n\r\n    \r\n   }\r\n\r\n  async ngOnInit() {\r\n      /////////////////////////////////////////////////\r\n      //get token\r\n      this.token =(await Storage.get({ key: 'accessToken' })).value;\r\n\r\n      //get user id\r\n      this.userId =JSON.parse( (await Storage.get({ key: \"user_infos\" })).value).id;\r\n      //get Language\r\n       this.lang = (await Storage.get({ key: 'SELECTED LANGUAGE' })).value;\r\n\r\n      //present loading\r\n      this.webService.presentLoading();\r\n      this.webService.getDriverRide(this.userId,this.token).subscribe(async res=>{\r\n       // console.log(\"getting Rides : \",res);\r\n\r\n         if(!res.detail)\r\n         {\r\n          \r\n            this.filterData = res;\r\n            for(let i=0; i< res.length;i++)\r\n            {\r\n\r\n              if(this.filterData[i].etape_location == 5)\r\n              {\r\n                this.nbr = this.nbr + 1 ;\r\n                break;\r\n              }\r\n            }\r\n\r\n            //\r\n            if(this.nbr>0)\r\n            {\r\n               \r\n              for(let i=0; i< res.length;i++)\r\n              {\r\n\r\n              //call the car according to the id \r\n               this.webService.getCarDetails(res[i].voiture).subscribe(car =>{\r\n    \r\n                 // console.log(car)\r\n                    //pictures of car\r\n                    this.filterData[i].photo= car.photo;\r\n                    //modele\r\n                    this.filterData[i].modele = car.modele.libelle;\r\n\r\n                    //receive the res\r\n                    this.filterData[i] = res[i];\r\n                    this.filterData[i].heure_debut = (res[i].date_debut.split(\"T\")[1]).split(\".\")[0];\r\n                    this.filterData[i].date_debut = res[i].date_debut.split(\"T\")[0];\r\n                    this.filterData[i].heure_fin = (res[i].date_fin.split(\"T\")[1]).split(\".\")[0];\r\n                    this.filterData[i].date_fin = res[i].date_fin.split(\"T\")[0];\r\n                    this.filterData[i].date_location = res[i].date_location.split(\"T\")[0];\r\n                    this.filterData[i].destination_id = res[i].destination;\r\n                    this.filterData[i].depart_id = res[i].depart;\r\n\r\n                    \r\n\r\n                  //get the client name\r\n                  this.webService.getClient(res[i].client,this.token).subscribe(resp=>{\r\n                    \r\n                    //console.log(\"client\", resp);\r\n                      this.filterData[i].clientname = resp.first_name +\" \"+resp.last_name;\r\n\r\n                \r\n                      //get destination\r\n                    this.webService.getSingleDestination(res[i].destination).subscribe(dest =>{\r\n        \r\n                     //console.log(dest);\r\n                   \r\n                      this.filterData[i].destination = dest.destination;\r\n\r\n                      if(res[i].depart > 0)\r\n                      {\r\n                            //get depart\r\n                            this.webService.getSingleDestination(res[i].depart).subscribe(dep =>{\r\n                  \r\n                              //console.log(dep);\r\n              \r\n                            this.filterData[i].depart = dep.destination;\r\n                            \r\n\r\n                            this.list_original = this.filterData\r\n                            //stop loader\r\n                            this.show = true\r\n                            this.webService.stopLoading();\r\n                          });\r\n                          //end get depart\r\n                      }else{\r\n                          //stop loader\r\n                          this.show = true\r\n                          this.webService.stopLoading();\r\n                      } \r\n                    \r\n                    });\r\n                        //end get destination\r\n                  \r\n                  });\r\n                  //end get client name\r\n           \r\n             });\r\n              }\r\n            }else{\r\n              this.show = true;\r\n              this.webService.stopLoading();\r\n\r\n            }\r\n\r\n         }else{\r\n              this.webService.stopLoading();\r\n              if(this.lang ==\"fr\")\r\n              {\r\n                \r\n                alert(\"Aucun Trajet disponible !! \")\r\n              }else{\r\n                alert(\"No Ride available !!  \")\r\n          \r\n              }\r\n\r\n         }\r\n\r\n      },error=>{\r\n        this.webService.stopLoading(); \r\n        \r\n        if(this.lang ==\"fr\")\r\n        {\r\n          alert(\"Erreur Serveur !! \")\r\n        }else{\r\n          alert(\"Server Error!! \")\r\n    \r\n        }\r\n    \r\n       });\r\n\r\n  }\r\n\r\n///////////////////////////////////////////////////////////////////////////////////////////////////////\r\n//////////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\n\r\n\r\n\r\n\r\n\r\n  //////////////////////////////////////////////////////\r\n  //this method is used to print the details of a selected trip //////////////\r\n  tripDetails(id){\r\n\r\n   // console.log(\"selected : -> \", this.filterData[id].id);\r\n\r\n    //call another page and fetch the details of the car\r\n    //this.router.navigateByUrl(\"/trip-details\")\r\n\r\n      //call another page and fetch the details of the car\r\n      this.router.navigate(['trip-details'], {queryParams:{id: this.filterData[id].id, prev : \"/send-rides\"} })\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n  \r\n\r\n\r\n}\r\n"]}