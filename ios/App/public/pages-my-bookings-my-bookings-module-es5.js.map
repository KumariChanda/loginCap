{"version":3,"sources":["webpack:///src/app/pages/my-bookings/my-bookings.page.html","webpack:///src/app/pages/my-bookings/my-bookings-routing.module.ts","webpack:///src/app/pages/my-bookings/my-bookings.module.ts","webpack:///src/app/pages/my-bookings/my-bookings.page.scss","webpack:///src/app/pages/my-bookings/my-bookings.page.ts"],"names":["routes","path","component","MyBookingsPageRoutingModule","imports","forChild","exports","MyBookingsPageModule","declarations","Storage","MyBookingsPage","webService","router","show","reservDetails","filterData","presentLoading","get","key","token","value","JSON","userId","parse","id","lang","getClientReservation","subscribe","res","console","log","detail","alert","navigateByUrl","length","stopLoading","navigate","i","date_debut","split","getCarDetails","voiture","car","photo_car","photo","modele","libelle","getSingleDestination","destination","dest","date_location","date_fin","selector","template"],"mappings":"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","file":"pages-my-bookings-my-bookings-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n\\n       <ion-item>\\n        <ion-buttons slot=\\\"start\\\"  *ngIf=\\\"reservDetails==null\\\">\\n          <ion-menu-button></ion-menu-button>\\n        </ion-buttons>\\n\\n      <!-- prev icon -->\\n           <ion-icon color=\\\"light\\\" name=\\\"chevron-back\\\" (click)=\\\"prev()\\\" *ngIf=\\\"reservDetails!=null\\\" ></ion-icon>\\n        <ion-title> {{\\\"DASHBOARD.my_bookings\\\" | translate}} </ion-title>\\n    </ion-item> \\n\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content *ngIf=\\\"show\\\">\\n\\n    <!-- --------------------- if  reservDetails== null----------------------------------------------------------------- -->\\n       \\n     <div *ngIf=\\\"reservDetails==null\\\">\\n        <!-- Start reservation -->\\n       <ion-card *ngFor=\\\"let item of filterData ; index as i\\\" >\\n          \\n          \\n        <img [src]=\\\"item?.photo_car[0]?.image\\\" />\\n\\n            <ion-card-header>\\n                    <ion-card-title >{{item.modele}}</ion-card-title>\\n\\n              <ion-card-subtitle>\\n\\n                  \\n               <!-- Status -->\\n                <ion-item>\\n                    <ion-label > Status : </ion-label>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 1 && lang=='fr'\\\" style=\\\"color:orange\\\"> En cours de traitement </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 1 && lang=='en'\\\" style=\\\"color:orange\\\"> Being processed </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 2 && lang=='fr'\\\" style=\\\"color:purple\\\"> Confirmée </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 2 && lang=='en'\\\" style=\\\"color:purple\\\"> Confirmed </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 3 && lang=='fr'\\\" style=\\\"color:red\\\"> Rejetée pour défaut paiement</ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 3 && lang=='en'\\\" style=\\\"color:red\\\"> Rejected for default of payment </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 4 && lang=='fr'\\\" style=\\\"color:blue\\\"> Réservation Débutée </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 4 && lang=='en'\\\" style=\\\"color:blue\\\"> Reservation started </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 5 && lang=='fr'\\\" style=\\\"color:green\\\"> Réservation terminée </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"item.etape_location == 5 && lang=='en'\\\" style=\\\"color:green\\\">Reservation completed </ion-chip>\\n                   \\n                </ion-item>\\n                <!-- Starting date -->\\n                <ion-item>\\n                    <ion-label > Start Date : </ion-label>\\n                    <ion-chip slot=\\\"end\\\"> {{item.date_debut}} </ion-chip>\\n                </ion-item>\\n                  <!-- Destination -->\\n            \\n               <ion-item>\\n                    <ion-label > Destination : </ion-label>\\n                    <ion-chip slot=\\\"end\\\"> {{item.destination}} </ion-chip>\\n                </ion-item>\\n\\n                \\n\\n              </ion-card-subtitle>\\n            </ion-card-header>\\n\\n\\n            <ion-card-content>\\n                                        \\n                   <!-- button View details-->\\n                  <ion-button  style=\\\"margin-left:30%\\\" (click) = \\\"viewDetails(i)\\\" >\\n                      <ion-label >View details</ion-label>\\n                  </ion-button>\\n          \\n          \\n            </ion-card-content>\\n      </ion-card>\\n        <!-- Stop Reservation -->\\n      </div>  \\n    <!-- -------------------------------------------------------------------------------------- -->\\n    <!-- -------------------------------------------------------------------------------------- -->\\n    <!-- -------------------------------------------------------------------------------------- -->\\n    <!-- -------------------------------------------------------------------------------------- -->\\n\\n    <!-- --------------------- if  reservDetails!= null----------------------------------------------------------------- -->\\n       \\n     <div *ngIf=\\\"reservDetails!=null\\\">\\n        <!-- Start reservation -->\\n       <ion-card *ngIf=\\\"reservDetails \\\" >\\n          \\n          \\n        <img [src]=\\\"reservDetails?.photo_car[0]?.image\\\" />\\n\\n            <ion-card-header>\\n                    <ion-card-title >{{reservDetails.modele}}</ion-card-title>\\n\\n              <ion-card-subtitle>\\n\\n                  \\n               <!-- Status -->\\n                <ion-item>\\n                    <ion-label > Status : </ion-label>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 1 && lang=='fr'\\\" style=\\\"color:orange\\\"> En cours de traitement </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 1 && lang=='en'\\\" style=\\\"color:orange\\\"> Being processed </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 2 && lang=='fr'\\\" style=\\\"color:purple\\\"> Confirmée </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 2 && lang=='en'\\\" style=\\\"color:purple\\\"> Confirmed </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 3 && lang=='fr'\\\" style=\\\"color:red\\\"> Rejetée pour défaut paiement</ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 3 && lang=='en'\\\" style=\\\"color:red\\\"> Rejected for default of payment </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 4 && lang=='fr'\\\" style=\\\"color:blue\\\"> Réservation Débutée </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 4 && lang=='en'\\\" style=\\\"color:blue\\\"> Reservation started </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 5 && lang=='fr'\\\" style=\\\"color:green\\\"> Réservation terminée </ion-chip>\\n                    <ion-chip slot=\\\"end\\\" *ngIf=\\\"reservDetails.etape_location == 5 && lang=='en'\\\" style=\\\"color:green\\\">Reservation completed </ion-chip>\\n                   \\n                </ion-item>\\n               \\n                <!-- Location date -->\\n                <ion-item>\\n                    <ion-label > Booking Date : </ion-label>\\n                    <ion-chip slot=\\\"end\\\"> {{reservDetails.date_location}} </ion-chip>\\n                </ion-item>\\n                <!-- Starting date -->\\n                <ion-item>\\n                    <ion-label > Start Date : </ion-label>\\n                    <ion-chip slot=\\\"end\\\"> {{reservDetails.date_debut}} </ion-chip>\\n                </ion-item>\\n                <!-- Return date -->\\n                <ion-item>\\n                    <ion-label > Return Date : </ion-label>\\n                    <ion-chip slot=\\\"end\\\"> {{reservDetails.date_fin}} </ion-chip>\\n                </ion-item>\\n                  <!-- Destination -->\\n            \\n               <ion-item>\\n                    <ion-label > Destination : </ion-label>\\n                    <ion-chip slot=\\\"end\\\"> {{reservDetails.destination}} </ion-chip>\\n                </ion-item>\\n                  <!-- Price -->\\n            \\n               <ion-item>\\n                    <ion-label > Montant : </ion-label>\\n                    <ion-chip slot=\\\"end\\\"> {{reservDetails.montant}} F CFA </ion-chip>\\n                </ion-item>\\n                  <!-- your comment/ message -->\\n            \\n               <ion-item>\\n                    <ion-label > Your Message : </ion-label>\\n                </ion-item> \\n    \\n                <ion-label style=\\\"color:white;margin-right:10%; margin-left:7%; text-align:justify;\\\">\\n                   {{reservDetails.commentaire_client}}  \\n                </ion-label>\\n\\n                \\n\\n              </ion-card-subtitle>\\n            </ion-card-header>\\n\\n\\n            <ion-card-content>\\n                                        \\n                  \\n            </ion-card-content>\\n      </ion-card>\\n        <!-- Stop Reservation -->\\n      </div>  \\n    <!-- -------------------------------------------------------------------------------------- -->\\n\\n\\n\\n\\n\\n</ion-content>\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MyBookingsPage } from './my-bookings.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MyBookingsPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MyBookingsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MyBookingsPageRoutingModule } from './my-bookings-routing.module';\n\nimport { MyBookingsPage } from './my-bookings.page';\nimport { TranslateModule } from '@ngx-translate/core';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MyBookingsPageRoutingModule,\n    TranslateModule\n  ],\n  declarations: [MyBookingsPage]\n})\nexport class MyBookingsPageModule {}\n","export default \"ion-card, ion-toolbar, ion-segment {\\n  --background: black;\\n}\\n\\nion-item {\\n  --background: black;\\n  color: #ffa60a;\\n}\\n\\nion-button {\\n  color: black;\\n  --background: #ffa60a;\\n}\\n\\nion-chip {\\n  color: black;\\n  --background: white;\\n  border-color: black;\\n}\\n\\nion-segment-button {\\n  color: #ffa60a;\\n}\\n\\nion-card-title {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9jcGNraW5nZG9tL0RvY3VtZW50cy9pb25pYy10dXRvcmlhbC1tYXN0ZXIvaW9uaWNfcHJvamVjdC9sb2dpbkNhcC9zcmMvYXBwL3BhZ2VzL215LWJvb2tpbmdzL215LWJvb2tpbmdzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvbXktYm9va2luZ3MvbXktYm9va2luZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUksbUJBQUE7QUNBSjs7QURLQTtFQUVJLG1CQUFBO0VBQ0EsY0FBQTtBQ0hKOztBRE1BO0VBRUUsWUFBQTtFQUNBLHFCQUFBO0FDSkY7O0FEUUE7RUFFSSxZQUFBO0VBQ0EsbUJBQUE7RUFDQSxtQkFBQTtBQ05KOztBRFNBO0VBRUksY0FBQTtBQ1BKOztBRFVBO0VBRUksWUFBQTtBQ1JKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvbXktYm9va2luZ3MvbXktYm9va2luZ3MucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWNhcmQsaW9uLXRvb2xiYXIsaW9uLXNlZ21lbnRcbntcbiAgICAtLWJhY2tncm91bmQ6IGJsYWNrOyBcbn1cblxuXG5cbmlvbi1pdGVtXG57XG4gICAgLS1iYWNrZ3JvdW5kOiBibGFjazsgXG4gICAgY29sb3I6ICAjZmZhNjBhO1xufVxuXG5pb24tYnV0dG9uXG57XG4gIGNvbG9yOiBibGFjazsgXG4gIC0tYmFja2dyb3VuZDogICNmZmE2MGE7XG5cbn1cblxuaW9uLWNoaXBcbntcbiAgICBjb2xvcjogYmxhY2s7IFxuICAgIC0tYmFja2dyb3VuZDogd2hpdGU7XG4gICAgYm9yZGVyLWNvbG9yOiBibGFjaztcbn1cblxuaW9uLXNlZ21lbnQtYnV0dG9uXG57XG4gICAgY29sb3IgOiAjZmZhNjBhO1xufVxuXG5pb24tY2FyZC10aXRsZVxue1xuICAgIGNvbG9yIDogd2hpdGU7XG59IiwiaW9uLWNhcmQsIGlvbi10b29sYmFyLCBpb24tc2VnbWVudCB7XG4gIC0tYmFja2dyb3VuZDogYmxhY2s7XG59XG5cbmlvbi1pdGVtIHtcbiAgLS1iYWNrZ3JvdW5kOiBibGFjaztcbiAgY29sb3I6ICNmZmE2MGE7XG59XG5cbmlvbi1idXR0b24ge1xuICBjb2xvcjogYmxhY2s7XG4gIC0tYmFja2dyb3VuZDogI2ZmYTYwYTtcbn1cblxuaW9uLWNoaXAge1xuICBjb2xvcjogYmxhY2s7XG4gIC0tYmFja2dyb3VuZDogd2hpdGU7XG4gIGJvcmRlci1jb2xvcjogYmxhY2s7XG59XG5cbmlvbi1zZWdtZW50LWJ1dHRvbiB7XG4gIGNvbG9yOiAjZmZhNjBhO1xufVxuXG5pb24tY2FyZC10aXRsZSB7XG4gIGNvbG9yOiB3aGl0ZTtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { AppServiceService } from 'src/app/service/appService/app-service.service';\n\nimport { Plugins } from '@capacitor/core';\nimport { Router } from '@angular/router';\n\n\nconst { Storage } = Plugins;\n\n@Component({\n  selector: 'app-my-bookings',\n  templateUrl: './my-bookings.page.html',\n  styleUrls: ['./my-bookings.page.scss'],\n})\nexport class MyBookingsPage implements OnInit {\n\n  show = false;\n\n  reservDetails : any = null;\n\n  filterData = [\n    {\n      \"id\": 0,\n      \"date_location\": \"\",\n      \"date_debut\": \"\",\n      \"date_fin\": \"\",\n      \"montant\": 0,\n      \"note_client\": 0,\n      \"commentaire_client\": null,\n      \"note_chauffeur\": 0,\n      \"rapport_chauffeur\": \"\",\n      \"client\": 0,\n      \"chauffeur\": 0,\n      \"voiture\": 0,\n      \"type_location\": 0,\n      \"destination\": \"\",\n      \"etape_location\": 0,\n      \"optionnel\": [],\n      \"photo_car\":[{\"image\":\"\"}],\n      \"modele\":\"\"    \n    }\n  \n  ]\n  token: any;\n  userId: any;\n  lang: any;\n\n\n  constructor(public webService : AppServiceService, private router : Router) { }\n\n  async ngOnInit() {\n        //start laoder\n        this.webService.presentLoading();\n        //get token\n        this.token =(await Storage.get({ key: 'accessToken' })).value;\n\n        //get user id\n        this.userId =JSON.parse( (await Storage.get({ key: \"user_infos\" })).value).id;\n        //get Language\n         this.lang = (await Storage.get({ key: 'SELECTED LANGUAGE' })).value;\n\n\n        //get Booking list\n\n          this.webService.getClientReservation(this.userId,this.token).subscribe(res =>{\n\n            console.log(res);\n\n            if(res.detail) // that means the is error or no value exist for this user\n            {\n              if(this.lang==\"fr\")\n              {\n                alert(\"Aucune Reservation \\n Retour à la page accueil\");\n\n              }else{\n                alert(\"No Booking \\n Back Home Page\")\n              }\n\n              this.router.navigateByUrl(\"/dashboard\");\n\n              \n            }else{\n                 //check if the booking list is empty or not\n                 if(res.length == 0) \n                 {\n\n                      if(this.lang == \"fr\")\n                      {\n                         alert(\"Votre Liste de Reservation est vide !! \")\n                      }\n                      else\n                      {\n                        alert(\" Your Booking List is Empty !!\");\n                      }\n                       \n                       //stop loader\n                       this.webService.stopLoading();\n\n                       this.router.navigate([\"/dashboard\"]);\n                 }\n                 else\n                 {\n                    for(let i=0 ; i <res.length ; i++)\n                    {\n                        //receive the res\n                      this.filterData[i] = res[i];\n                      this.filterData[i].date_debut = res[i].date_debut.split(\"T\")[0];\n    \n                      //call the car according to the id \n                      this.webService.getCarDetails(res[i].voiture).subscribe(car =>{\n    \n                        console.log(car)\n                            //pictures of car\n                            this.filterData[i].photo_car = car.photo;\n                            //modele\n                            this.filterData[i].modele = car.modele.libelle;\n    \n    \n                            //get destination\n                            this.webService.getSingleDestination(res[i].destination).subscribe(dest =>{\n    \n                                console.log(dest);\n    \n                              this.filterData[i].destination = dest.destination;\n                            });\n                            //end get destination\n    \n    \n                            //stop loader\n                            this.show = true\n                            this.webService.stopLoading();\n    \n    \n                      });\n                      //end get car infos\n    \n    \n    \n                    }//end for loop\n  \n                 }\n\n             \n                  \n\n            }\n\n\n            \n          });\n          ///end get booking list\n\n\n\n  }\n\n\n  //////////////////////////////////////////////////////////////////////////////////////\n  /////////////////////////////prev////////////////////////////////////////////////////\n\n  prev()\n  {\n    this.reservDetails = null;\n  }\n  ////////////////////////////////////////////////////////////////////////////////////\n  ////////////////////////////////view details////////////////////////////////////////\n  viewDetails(i)\n  {\n    this.reservDetails = this.filterData[i];\n    this.reservDetails.date_location = this.filterData[i].date_location.split(\"T\")[0];\n    this.reservDetails.date_debut = this.filterData[i].date_debut.split(\".\")[0];\n    this.reservDetails.date_fin = this.filterData[i].date_fin.split(\".\")[0];\n\n    console.log(this.reservDetails)\n  }\n\n\n\n}\n"]}